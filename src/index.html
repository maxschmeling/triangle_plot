<!doctype html>
<html>
<head>
  <title>Triangle Plot</title>
</head>
<body>
  <canvas id="plot" width="400" height="400" style="position: absolute; top: 100px; left: 100px; background-color: gray" />

  <script type="text/javascript">
    var start = new Date().getTime();

    function rollDice() {
      return Math.floor(Math.random() * 3);
    }

    function drawPoint(context, point, fillStyle = "#3335DD", size = 1) {
      context.fillStyle = fillStyle
      context.fillRect(point.x, point.y, size, size)
    }

    function getHalfwayPoint(point1, point2) {
      return {
        x: (point2.x + point1.x) / 2,
        y: (point2.y + point1.y) / 2
      }
    }

    var plot = document.getElementById("plot")
    var ctxt = plot.getContext("2d")

    var initialPoints = [
      { x: 25, y: 25 },
      { x: 375, y: 25 },
      { x: 200, y: 375 }
    ]

    for (var point of initialPoints) {
      drawPoint(ctxt, point, "#FF0000", 3)
    }

    var point = {
      x: 25,
      y: 375
    }

    for (var i = 0; i < 1000000; i++) {
      // console.log(point)
      drawPoint(ctxt, point)

      var diceResult = rollDice()
      // console.log(diceResult)

      point = getHalfwayPoint(initialPoints[diceResult], point)
    }

    var end = new Date().getTime();
    console.log("Drawing complete in " + ((end - start) / 1000) + " seconds.");
  </script>
</body>
</html>

